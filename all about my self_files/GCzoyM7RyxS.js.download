;/*FB_PKG_DELIM*/

__d("MWV2MediaViewerAspectRatioContainer.react",["BaseAspectRatioContainer.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={containerMaxSize:function(a,b){var c;return[{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxHeight:"min(calc(100vh - 76px),"+((c=a)!=null?c:1e4)+"px)"==null?null:"x1kb659o",maxWidth:"calc-size(min(calc(100vh - 76px),"+((c=a)!=null?c:1e4)+"px),size *"+b+")"==null?null:"x10cxd3o",$$css:!0},{"--maxHeight":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}("min(calc(100vh - 76px),"+((c=a)!=null?c:1e4)+"px)"),"--maxWidth":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}("calc-size(min(calc(100vh - 76px),"+((c=a)!=null?c:1e4)+"px),size *"+b+")")}]}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.children,f=a.height,g=a.onClickOutsideOfChildren;a=a.width;a=a!=null&&f!=null?a/f:1;var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i="x5yr21d xh8yej3",b[0]=i):i=b[0];var m;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(m="x1m82ljr x8cgc45 xr1yuqi xkrivgy x4ii5y1 x1gryazu x1n2onr6 xtzzx4i xwa60dl x11lhmoz",b[1]=m):m=b[1];var n;b[2]!==a||b[3]!==f?(n=(h||(h=c("stylex"))).props(k.containerMaxSize(f,a)),b[2]=a,b[3]=f,b[4]=n):n=b[4];b[5]!==a||b[6]!==e?(f=j.jsx(c("BaseAspectRatioContainer.react"),{aspectRatio:a,children:e}),b[5]=a,b[6]=e,b[7]=f):f=b[7];b[8]!==n||b[9]!==f?(a=j.jsx("div",{className:m,children:j.jsx("div",babelHelpers["extends"]({},n,{"aria-hidden":!0,onClick:l,children:f}))}),b[8]=n,b[9]=f,b[10]=a):a=b[10];b[11]!==g||b[12]!==a?(e=j.jsx("div",{"aria-hidden":!0,className:i,onClick:g,children:a}),b[11]=g,b[12]=a,b[13]=e):e=b[13];return e}function l(a){a.cancelBubble=!0,a.stopPropagation()}g["default"]=a}),98);
__d("MWV2MediaViewerItemImageV2.react",["BaseImage.react","I64","MWV2MediaViewerAspectRatioContainer.react","MWV2MediaViewerContext.react","MWXIconHd","MWXIconStrict.react","MWXThreadThemeColor","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useContext,l=b.useEffect,m=b.useRef;function a(a){var b=d("react-compiler-runtime").c(33),e=a.attachment,f=a.mediaRenderQpl;a=a.onClickOutsideOfImage;var g=k(d("MWV2MediaViewerContext.react").context),h=g.getPlayableUrl;g=g.heroLoggingComponent;var o=m(null),p,q;b[0]!==f?(p=function(){var a;o.current!=null&&((a=o.current)==null?void 0:a.complete)&&f.endSuccess()},q=[f],b[0]=f,b[1]=p,b[2]=q):(p=b[1],q=b[2]);l(p,q);b[3]!==e.previewHeight||b[4]!==e.previewHeightLarge?(p=e.previewHeightLarge!=null?(i||(i=d("I64"))).to_float(e.previewHeightLarge):e.previewHeight!=null?(i||(i=d("I64"))).to_float(e.previewHeight):void 0,b[3]=e.previewHeight,b[4]=e.previewHeightLarge,b[5]=p):p=b[5];q=p;b[6]!==e.previewWidth||b[7]!==e.previewWidthLarge?(p=e.previewWidthLarge!=null?(i||(i=d("I64"))).to_float(e.previewWidthLarge):e.previewWidth!=null?(i||(i=d("I64"))).to_float(e.previewWidth):void 0,b[6]=e.previewWidth,b[7]=e.previewWidthLarge,b[8]=p):p=b[8];p=p;var r;b[9]!==e||b[10]!==h||b[11]!==f?(r=h(e,"MediaViewerImage",f),b[9]=e,b[10]=h,b[11]=f,b[12]=r):r=b[12];h=r;if(h!=null){b[13]!==g?(r=g("MWV2MediaViewerImage"),b[13]=g,b[14]=r):r=b[14];var s;b[15]!==f?(g=function(){f.endFail("load-image-error")},s=function(){f.endSuccess()},b[15]=f,b[16]=g,b[17]=s):(g=b[16],s=b[17]);var t;b[18]!==h||b[19]!==g||b[20]!==s?(t=j.jsx(c("BaseImage.react"),{height:"100%",objectFit:"contain",onError:g,onLoad:s,ref:o,src:h,width:"100%"}),b[18]=h,b[19]=g,b[20]=s,b[21]=t):t=b[21];b[22]!==e?(h=j.jsx(n,{attachment:e}),b[22]=e,b[23]=h):h=b[23];b[24]!==h||b[25]!==r||b[26]!==t?(g=j.jsxs(j.Fragment,{children:[r,t,h]}),b[24]=h,b[25]=r,b[26]=t,b[27]=g):g=b[27];b[28]!==q||b[29]!==a||b[30]!==g||b[31]!==p?(s=j.jsx(c("MWV2MediaViewerAspectRatioContainer.react"),{height:q,onClickOutsideOfChildren:a,width:p,children:g}),b[28]=q,b[29]=a,b[30]=g,b[31]=p,b[32]=s):s=b[32];return s}else{f.endFail("missing-playable-url");return null}}function n(a){var b=d("react-compiler-runtime").c(3);a=a.attachment;a=a;a=a.isHd===!0;if(!a)return null;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x78zum5 x5yr21d x10l6tqk xh8yej3"},e={className:"x92rtbv x10l6tqk xomnu4r"},b[0]=a,b[1]=e):(a=b[0],e=b[1]);b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx("div",babelHelpers["extends"]({},a,{children:j.jsx("div",babelHelpers["extends"]({},e,{children:j.jsx(c("MWXIconStrict.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("rgba(255,255,255,0.7)"),icon:c("MWXIconHd"),size:24})}))})),b[2]=a):a=b[2];return a}g["default"]=a}),98);